
## Обзор

Компонент `OktaCallbackHandler` предназначен для обработки обратного вызова (callback) от аутентификации через Okta. Он извлекает необходимые параметры из URL обратного вызова, выполняет аутентификацию с помощью метода `SessionApi.createWithOktaAuth` и, в случае успешной аутентификации, перенаправляет пользователя на указанный домен. Если во время аутентификации происходит ошибка, пользователю выводится сообщение с предложением вернуться на страницу входа.

## Расположение

Компонент находится по адресу `metabase/frontend/src/metabase/auth/components/OktaCallbackHandler/OktaCallbackHandler.tsx`
## Функциональность

1. При монтировании компонента автоматически запускается функция `handleOktaLogin`.
2. Из URL извлекаются параметры `code` и `state`.
3. Используя эти параметры, выполняется аутентификация через Okta с помощью `SessionApi.createWithOktaAuth`.
4. В случае отсутствия параметров или неудачи аутентификации устанавливается сообщение об ошибке.
5. После успешной аутентификации пользователь перенаправляется на `oktaDomain`, при необходимости корректируя URL для удаления суффикса "callback".
6. В случае ошибки отображается сообщение об ошибке и предоставляется кнопка для возврата на страницу входа.

## Основные компоненты

- **useState**: Управляет состоянием `error` для обработки ошибок, возникших в процессе аутентификации.
- **useEffect**: Вызывает функцию `handleOktaLogin` при монтировании компонента для начала процесса аутентификации.
- **SessionApi**: Взаимодействует с бэкендом Metabase для аутентификации с использованием учетных данных Okta.
- **MetabaseSettings**: Получает конфигурацию `oktaDomain`.

## Отображение ошибок

Если обнаружена ошибка (например, отсутствие параметров или сбой аутентификации), компонент отображает пользователю соответствующее сообщение и предлагает кнопку для возврата на страницу входа.

## Стиль и внешний вид

Сообщение об ошибке и кнопка возврата центрированы, применены стили для улучшения визуальной привлекательности и соответствия дизайну Metabase.